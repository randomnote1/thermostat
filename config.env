# ============================================================================
# Thermostat Configuration File
# ============================================================================
# This file contains HARDWARE and SYSTEM settings that rarely change.
# User-facing settings (temperatures, schedules, modes) are stored in the
# database and managed via the web interface.
#
# Edit this file to match your hardware setup (GPIO pins, sensor IDs, etc.)
# ============================================================================

# ----------------------------------------------------------------------------
# Logging Configuration
# ----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_FILE=/var/log/thermostat.log

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------
DATABASE_PATH=thermostat.db
HISTORY_LOG_INTERVAL=300          # Seconds between history logs (5 minutes)
HISTORY_RETENTION_DAYS=1825        # Minimum days to keep (5 years)
HISTORY_MAX_DISK_PERCENT=50.0      # Stop logging if disk usage exceeds this %

# ----------------------------------------------------------------------------
# GPIO Pin Assignments (BCM numbering)
# Hardware-specific - must match your relay board wiring
# ----------------------------------------------------------------------------
GPIO_RELAY_HEAT=17
GPIO_RELAY_COOL=27
GPIO_RELAY_FAN=22
GPIO_RELAY_HEAT2=23                # Second-stage heat (auxiliary/emergency)

# ----------------------------------------------------------------------------
# Sensor Configuration
# Hardware timing and anomaly detection thresholds
# ----------------------------------------------------------------------------
SENSOR_READ_INTERVAL=30            # Seconds between sensor reads
SENSOR_ANOMALY_THRESHOLD=3.0       # 째F - Rapid temp change indicating fireplace
SENSOR_DEVIATION_THRESHOLD=5.0     # 째F - Deviation from average indicating proximity to heat
SENSOR_IGNORE_DURATION=3600        # Seconds to ignore compromised sensors (1 hour)

# ----------------------------------------------------------------------------
# HVAC Safety Timings
# Protect compressor and prevent short-cycling
# ----------------------------------------------------------------------------
HVAC_MIN_RUN_TIME=300              # Seconds - Minimum time HVAC must run (5 min)
HVAC_MIN_REST_TIME=300             # Seconds - Minimum time HVAC must rest (5 min)
HYSTERESIS=0.5                     # 째F - Temperature band to prevent oscillation

# ----------------------------------------------------------------------------
# Web Interface (Optional)
# ----------------------------------------------------------------------------
WEB_INTERFACE_ENABLED=true
WEB_PORT=5000

# ----------------------------------------------------------------------------
# Schedule Control
# ----------------------------------------------------------------------------
SCHEDULE_ENABLED=true
SCHEDULE_HOLD_HOURS=2              # Hours to hold manual changes before resuming schedule

# ----------------------------------------------------------------------------
# FIRST-RUN DEFAULTS ONLY
# After initial setup, these are managed via web interface and stored in database
# ----------------------------------------------------------------------------
# Initial temperature targets (째F)
TARGET_TEMP_HEAT=68.0
TARGET_TEMP_COOL=74.0

# Initial HVAC mode (heat/cool/auto/off)
HVAC_MODE=heat

# Sensors to monitor for fireplace anomalies (comma-separated sensor IDs)
# Example: MONITORED_SENSORS=28-0000000006,28-0000000007
# Leave empty to configure via web interface after first run
MONITORED_SENSORS=

# ----------------------------------------------------------------------------
# Display Configuration (Optional - E-ink display)
# ----------------------------------------------------------------------------
# DISPLAY_UPDATE_INTERVAL=60
# DISPLAY_TYPE=waveshare_2in13_v2
